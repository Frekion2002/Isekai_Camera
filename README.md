# Isekai_Camera
인생이 지치고 힘들거나 지루한 사람들을 이세계로 초대합니다.

## Isekai_Camera 소개
현실세계에서 이리 치이고 저리 치이는 많은 현대인들은 판타지 웹툰이나 만화, 드라마 등을 보며 "나도 저런 세상으로 가고싶다..."라는 소망을 입 밖으로 종종 내뱉곤 합니다. 이런 분들을 위해 신기한 기능을 가진 Isekai(일본어 표현으로 한국어로는 신세계 라고 한다)_Camera로 잠시나마 여러분들의 꿈을 이루어 드리겠습니다.

## 작동 방식

### **알고리즘 개요**
1. **이미지 로드**:
   - 'cv.imread'를 사용해 지정된 경로에서 이미지를 불러옵니다.
     
2. **색상 대비 강화**:
   - 이미지를 LAB 색 공간으로 변환한 후 L(Lightness) 채널에서 CLAHE(Contrast Limited Adaptive Histogram Equalization)를 적용합니다.
     
3. **노이즈 제거**:
   - 'fastNlMeansDenoisingColored'를 사용하여 이미지의 노이즈를 제거합니다.

4. **엣지 검출**:
   - 이미지를 그레이스케일로 변환한 후 중간 블러를 적용합니다.
   - 'cv.Canny'를 사용하여 엣지를 검출합니다.

5. **엣지 보강**:
   - 'cv.dilate'를 사용해 엣지를 확장하여 더 뚜렷하게 만듭니다.
   - 2x2 커널을 사용하여 적절히 확장합니다.

6. **색상 부드럽게 처리**:
   - 'cv.bilateralFilter'를 사용해 색상을 부드럽게 처리하면서 엣지를 유지합니다.

7. **카툰화 처리**:
   - 검출된 엣지를 반전한 후, 색상 이미지와 결합하여 만화 스타일로 변환합니다.

8. **이미지 출력 및 저장**:
   - 'cv.imshow'를 사용하여 원본 이미지와 카툰화된 이미지를 나란히 출력합니다.
   - 결과 이미지를 지정된 경로에 저장합니다.

### 알고리즘 선택 이유
1. **Canny_edge_detection**
   - 카툰화에서 "명확하고 선명한 엣지"가 중요하다고 생각했습니다.
   - Canny는 결과가 얇고 세밀한 엣지를 제공하기에 이미지에서 경계선을 명확하게 나타내서 선택했습니다.
2. **fastNlMeansDenoisingColored**
   - fastNlMeansDenoisingColored는 비슷한 색상을 가진 주변 픽셀을 활용하여 특정 픽셀을 평균화합니다.
   - 즉, 색상 정보와 텍스처 유지를 잘하여 카툰화에 필요한 색상 영역을 깨끗하게 유지할 수 있습니다.
3. **cv.dilate**
   - Morphology연산 일환으로 픽셀 영역 확장에 사용됩니다.
   - canny로 엣지 검출 후 그 엣지를 더욱 두껍게 하므로써 만화 스타일 효과를 극대화 할 수 있습니다.
4. **cv.bilateralFilter**
   - Gaussian Blur가 아닌 Bilateral Filter를 사용한 이유는 엣지를 보존하며 색상과 엣지를 모두 부드럽게 처리하기 때문입니다.
   - 또한 카툰화의 필수적인 색상 전환 및 경계선 유지 역할을 수행합니다.

## 이미지 데모

### 잘 된 이미지
![캐릭터 피규어](https://github.com/Frekion2002/Isekai_Camera/blob/main/fighter_2D2.jpg)

![캐릭터 피규어 카툰화](https://github.com/Frekion2002/Isekai_Camera/blob/main/cartoon_fighter_2D2.jpg)

### 아쉬운 이미지
![종합격투기](https://github.com/Frekion2002/Isekai_Camera/blob/main/fighter2.jpg)

![종합격투기 카툰화](https://github.com/Frekion2002/Isekai_Camera/blob/main/cartoon_fighter2_2.jpg)


## 한계점

### **유연성 부족**
- Canny의 임계값, Bilateral 필터의 sigmaColor, sigmaSpace 값이 고정되어 있어 다양한 이미지 특성에 적응하지 못할 수 있습니다.
- 즉, 밝거나 어두운 이미지, 색상 대조도가 낮은 이미지에서는 엣지가 재대로 검출되기 어렵습니다.
- 실제로 아쉬운 이미지에서 왼쪽 선수의 복근 쪽은 이미지 상 어둡기에 복근의 엣지가 재대로 검출되지 않았습니다.

## 반성
- 카메라의 의도는 현실에 지친 사람들을 꿈의 세계로 보내 스트레스 해소 및 삶의 활기부여 입니다. 그러다 보니 직장인이 많고, 깔끔한 의복을 위해 검정색 등 단조로운 색상의 옷을 입는 사람이 많습니다.
- 그럴 경우 재대로 된 카툰화가 되지 않아 아쉬웠습니다.
- 색상처리나, 색상 대조도가 낮은 상태에서도 엣지를 재대로 검출하여 재대로 카툰화 할 수 있는 알고리즘을 찾아 지친 사람들을 더 즐겁게 해주고싶다.

